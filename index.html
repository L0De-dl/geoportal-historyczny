<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <title>Gołańcz wczoraj i dziś</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    #map {
      width: 100vw;
      height: 100vh;
    }

    .map-title {
      background: white;
      padding: 8px 12px;
      margin: 10px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>

  <div id="map"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
  const map = L.map('map').setView([52.943501705388755, 17.30028687048696], 17);

  // OGRANICZENIE DO OBSZARU MAPY
  map.setMaxBounds([
    [52.9490239042419972, 17.2852683033793824], // NW
    [52.9381943661129881, 17.3122189892486809]  // SE
  ]);

  // Ustaw minimalny zoom tak, aby cały obraz z 2002 był zawsze widoczny
  map.setMinZoom(map.getBoundsZoom([
    [52.9490239042419972, 17.2852683033793824],
    [52.9381943661129881, 17.3122189892486809]
  ]));

  // Usuń domyślny zoom control
  map.zoomControl.remove();

  // Dodaj tytuł nad zoomem
  const titleControl = L.control({ position: "topleft" });
  titleControl.onAdd = function(map) {
    const div = L.DomUtil.create("div", "map-title");
    div.innerHTML = "Gołańcz wczoraj i dziś – interaktywny przegląd zmian przestrzennych";
    return div;
  };
  titleControl.addTo(map);

  // Dodaj ponownie zoom control pod tytułem
  L.control.zoom({ position: "topleft" }).addTo(map);

  const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
  }).addTo(map);

  const mapa1890 = L.imageOverlay('1890.jpg', [[52.9490319716061961, 17.3121943444194670], [52.9382133521388596, 17.2852466604198938]], {
    opacity: 1,
    attribution: 'Mapa 1890 (skan)'
  });

  const mapa1911 = L.imageOverlay('1911.jpg', [[52.9490257748037507, 17.3122210314079545], [52.9381925505287754, 17.2852721501606830]], {
    opacity: 1,
    attribution: 'Mapa 1911 (skan)'
  });

  const mapa1934 = L.imageOverlay('1934.jpg', [[52.9490222422049257, 17.3122162618504909], [52.9382042911077733, 17.2852771658980089]], {
    opacity: 1,
    attribution: 'Mapa 1934 (skan)'
  });

  const mapa1940 = L.imageOverlay('1940.jpg', [[52.9490216086510159, 17.3122245266494161], [52.9381925605774271, 17.2852719154727694]], {
    opacity: 1,
    attribution: 'Mapa 1940 (skan)'
  });

  const mapa1941 = L.imageOverlay('1941.jpg', [[52.9490186551461193, 17.3122318260598220], [52.9381960899114787, 17.2852748328638199]], {
    opacity: 1,
    attribution: 'Mapa 1941 (skan)'
  });

  const mapa1966 = L.imageOverlay('1966.jpg', [[52.9490219811969567, 17.3122117097856005], [52.9381881385526967, 17.2852638409947374]], {
    opacity: 1,
    attribution: 'Mapa 1966 (skan)'
  });

  const mapa1981 = L.imageOverlay('1981.jpg', [[52.9490213992517695, 17.3122149942634245], [52.9381963831744287, 17.2852654500625249]], {
    opacity: 1,
    attribution: 'Mapa 1981 (skan)'
  });

  const mapa2002 = L.imageOverlay('2002.jpg', [[52.9490239042419972, 17.3122189892486809], [52.9381943661129881, 17.2852683033793824]], {
    opacity: 1,
    attribution: 'Mapa 2002 (skan)'
  });
  
  const mapa2025 = L.tileLayer('', { attribution: 'Mapa 2025' });

  const baseMaps = {
    "Mapa z 1890 roku": mapa1890,
    "Mapa z 1911 roku": mapa1911,
    "Mapa z 1934 roku": mapa1934,
    "Mapa z 1940 roku": mapa1940,
    "Mapa z 1941 roku": mapa1941,
    "Mapa z 1966 roku": mapa1966,
    "Mapa z 1981 roku": mapa1981,
    "Mapa z 2002 roku": mapa2002,
    "Mapa z 2025 roku": mapa2025
  };

  const layerControl = L.control.layers(baseMaps, null, { collapsed: false }).addTo(map);

  const layerContainer = layerControl.getContainer();
  const title = document.createElement("div");
  title.innerHTML = "<strong>WYBÓR PODKŁADU</strong>";
  title.style.textAlign = "center";
  title.style.padding = "4px";
  layerContainer.insertBefore(title, layerContainer.firstChild);

  // --- MARKERY ---
  const yellowIcon = L.icon({
    iconUrl: '1.png',
    iconSize: [30, 30],
    iconAnchor: [30, 30],
    popupAnchor: [1, -34],
  });

    const yellowIconBlack = L.icon({
    iconUrl: '1c.png',
    iconSize: [30, 30],
    iconAnchor: [30, 30],
    popupAnchor: [1, -34],
  });

  const redIcon = L.icon({
    iconUrl: '2.png',
    iconSize: [30, 30],
    iconAnchor: [30, 30],
    popupAnchor: [1, -34],
  });

    const redIconBlack = L.icon({
    iconUrl: '2c.png',
    iconSize: [30, 30],
    iconAnchor: [30, 30],
    popupAnchor: [1, -34],
  });

  const blueIcon = L.icon({
    iconUrl: '3.png',
    iconSize: [30, 30],
    iconAnchor: [30, 30],
    popupAnchor: [1, -34],
  });

    const blueIconBlack = L.icon({
    iconUrl: '3c.png',
    iconSize: [30, 30],
    iconAnchor: [30, 30],
    popupAnchor: [1, -34],
  });




  const marker1 = L.marker([52.944121, 17.299716], { icon: yellowIcon }).addTo(map);
  marker1.on('mouseover', () => marker1.setIcon(yellowIconBlack));
  marker1.on('mouseout', () => marker1.setIcon(yellowIcon));
  marker1.on('click', () => {
    window.location.href = "https://l0de-dl.github.io/scena1";
  });

  const marker2 = L.marker([52.9438975384663, 17.299514730251893], { icon: redIcon }).addTo(map);
  marker2.on('mouseover', () => marker2.setIcon(redIconBlack));
  marker2.on('mouseout', () => marker2.setIcon(redIcon));
  marker2.on('click', () => {
    window.location.href = "https://l0de-dl.github.io/scena2";
  });

  const marker3 = L.marker([52.942454, 17.300135], { icon: blueIcon }).addTo(map);
  marker3.on('mouseover', () => marker3.setIcon(blueIconBlack));
  marker3.on('mouseout', () => marker3.setIcon(blueIcon));
  marker3.on('click', () => {
    window.location.href = "https://l0de-dl.github.io/scena3";
  });
  L.control.scale({
    imperial: false,
    metric: true,
    position: 'bottomleft'
  }).addTo(map);
    
</script>
</body>
</html>






